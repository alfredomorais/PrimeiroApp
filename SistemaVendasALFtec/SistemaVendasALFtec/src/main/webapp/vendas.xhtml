<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
<h:head>

<meta charset="UTF-8"/>
<title>Home - Sistema de Venda ALF Soluções em Tecnologias</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"/>
</h:head>
<h:body>

<div class="container">
 	
 
<ul class="nav nav-tabs">
  <li class="nav-item">
    <a class="nav-link" href="index.xhtml">Home</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="produtos.xhtml">Produtos</a>
  </li>
    <li class="nav-item">
    <a class="nav-link active" aria-current="page" href="vendas.xhtml">Vendas</a>
  </li>
  
  

</ul>
 

<h1>Vendas</h1>
<h:form>

<h:dataTable value="#{vendaBean.venda}" var="venda" border="1"
      cellpadding="5" cellspacing="5"
rendered="#{!emptyvendaBean.venda}">

<f:facet name="caption">
 <h:outputLabel value="Relação de Vendas Cadastrados"
 style="font-size: large; color: blue" />
 </f:facet>

 <f:facet name="header">
 <h:outputLabel value="Dados obtidos do sistema"
 style="font-size: large; color: green;" />
 </f:facet>

 <f:facet name="footer">
 <h:outputLabel value="Fim da relação"
 style="text-align: center; display: block;" />
 </f:facet>

<h:column>
		<f:facet name="header">
		
			<h:outputLabel value="Id"
 style="text-align: center; display: block;" />
		</f:facet>
		<h:outputText value="#{venda.id}" />
</h:column>

<h:column>
		<f:facet name="header">
			<h:outputLabel value="Data"
 style="text-align: center; display: block;" />
		</f:facet>
		<h:outputText value="#{venda.data}" />
		
</h:column>

<h:column>
		<f:facet name="header">
			<h:outputLabel value="total"
 style="text-align: center; display: block;" />
		</f:facet>
		<h:outputText value="#{venda.total}" />
		
</h:column>

</h:dataTable>
</h:form>

<h1>Itens da Venda</h1>
<h:form>

<h:dataTable value="#{vendaBean.itens.add(venda)}" var="venda" border="1"
      cellpadding="5" cellspacing="5"
rendered="#{!emptyvendaBean.venda}">

<f:facet name="caption">
 <h:outputLabel value="Relação de Vendas Cadastrados"
 style="font-size: large; color: blue" />
 </f:facet>

 <f:facet name="header">
 <h:outputLabel value="Dados obtidos do sistema"
 style="font-size: large; color: green;" />
 </f:facet>

 <f:facet name="footer">
 <h:outputLabel value="Fim da relação"
 style="text-align: center; display: block;" />
 </f:facet>

<h:column>
		<f:facet name="header">
		
			<h:outputLabel value="Id"
 style="text-align: center; display: block;" />
		</f:facet>
		<h:outputText value="#{item.id}" />
</h:column>

<h:column>
		<f:facet name="header">
			<h:outputLabel value="Id Produto"
 style="text-align: center; display: block;" />
		</f:facet>
		<h:outputText value="#{item.id_produto}" />
		
</h:column>

<h:column>
		<f:facet name="header">
			<h:outputLabel value="Id Venda"
 style="text-align: center; display: block;" />
		</f:facet>
		<h:outputText value="#{item.id_venda}" />
		
</h:column>

<h:column>
		<f:facet name="header">
		
			<h:outputLabel value="Quanidade"
 style="text-align: center; display: block;" />
		</f:facet>
		<h:outputText value="#{item.quantidade}" />
</h:column>

<h:column>
		<f:facet name="header">
			<h:outputLabel value="Valor Unitário"
 style="text-align: center; display: block;" />
		</f:facet>
		<h:outputText value="#{item.valor_unitario}" />
		
</h:column>

<h:column>
		<f:facet name="header">
			<h:outputLabel value="Total"
 style="text-align: center; display: block;" />
		</f:facet>
		<h:outputText value="#{item.total}" />
		
</h:column>


<h:column>
	<h:commandLink value="Editar" action="vendamanutencao?faces-redirect=true" styleClass="btn btn-secondary"/>
</h:column>

<h:column>
	<h:commandLink value="Excluir" action="#{vendasBean.excluir(venda)}" styleClass="btn btn-danger"/>
	
</h:column>


</h:dataTable>



<br />
<h:commandLink value="Cadastrar Venda" action="vendamanutencao?faces-redirect=true" styleClass="btn btn-primary" />


</h:form>

</div>





<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
</h:body>
</html>